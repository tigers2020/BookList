package com.example.pomkim.booklist;

import android.content.Context;
import android.net.Uri;
import android.util.Log;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import java.util.ArrayList;
import java.util.List;
import java.util.UUID;

/**
 * Created by pomkim on 11/26/16.
 */

public class BookUtil {

    private final static String SAMPLE_JSON = "{\"kind\":\"books#volumes\",\"totalItems\":932,\"items\":[{\"kind\":\"books#volume\",\"id\":\"QP7VvnhDOOsC\",\"etag\":\"g95XDdKHVGs\",\"selfLink\":\"https://www.googleapis.com/books/v1/volumes/QP7VvnhDOOsC\",\"volumeInfo\":{\"title\":\"Programming Android\",\"authors\":[\"Zigurd Mednieks\",\"Laird Dornin\",\"G. Blake Meike\",\"Masumi Nakamura\"],\"publisher\":\"\\\"O'Reilly Media, Inc.\\\"\",\"publishedDate\":\"2012\",\"description\":\"Presents instructions for creating Android applications for mobile devices using Java.\",\"industryIdentifiers\":[{\"type\":\"ISBN_13\",\"identifier\":\"9781449316648\"},{\"type\":\"ISBN_10\",\"identifier\":\"1449316646\"}],\"readingModes\":{\"text\":false,\"image\":true},\"pageCount\":542,\"printType\":\"BOOK\",\"categories\":[\"Computers\"],\"averageRating\":3.5,\"ratingsCount\":2,\"maturityRating\":\"NOT_MATURE\",\"allowAnonLogging\":false,\"contentVersion\":\"preview-1.0.0\",\"imageLinks\":{\"smallThumbnail\":\"http://books.google.com/books/content?id=QP7VvnhDOOsC&printsec=frontcover&img=1&zoom=5&edge=curl&source=gbs_api\",\"thumbnail\":\"http://books.google.com/books/content?id=QP7VvnhDOOsC&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api\"},\"language\":\"en\",\"previewLink\":\"http://books.google.com/books?id=QP7VvnhDOOsC&printsec=frontcover&dq=android&hl=&cd=1&source=gbs_api\",\"infoLink\":\"http://books.google.com/books?id=QP7VvnhDOOsC&dq=android&hl=&source=gbs_api\",\"canonicalVolumeLink\":\"http://books.google.com/books/about/Programming_Android.html?hl=&id=QP7VvnhDOOsC\"},\"saleInfo\":{\"country\":\"US\",\"saleability\":\"NOT_FOR_SALE\",\"isEbook\":false},\"accessInfo\":{\"country\":\"US\",\"viewability\":\"PARTIAL\",\"embeddable\":true,\"publicDomain\":false,\"textToSpeechPermission\":\"ALLOWED\",\"epub\":{\"isAvailable\":false},\"pdf\":{\"isAvailable\":false},\"webReaderLink\":\"http://books.google.com/books/reader?id=QP7VvnhDOOsC&hl=&printsec=frontcover&output=reader&source=gbs_api\",\"accessViewStatus\":\"SAMPLE\",\"quoteSharingAllowed\":false},\"searchInfo\":{\"textSnippet\":\"Presents instructions for creating Android applications for mobile devices using Java.\"}},{\"kind\":\"books#volume\",\"id\":\"bmJIl_wPgQsC\",\"etag\":\"CvqSXRgEhGc\",\"selfLink\":\"https://www.googleapis.com/books/v1/volumes/bmJIl_wPgQsC\",\"volumeInfo\":{\"title\":\"Professional Android 4 Application Development\",\"authors\":[\"Reto Meier\"],\"publisher\":\"John Wiley & Sons\",\"publishedDate\":\"2012-05-01\",\"description\":\"Provides information on using Android 3 to build and enhance mobile applications, covering such topics as creating user interfaces, using intents, databases, creating and controlling services, creating app widgets, playing audio and video, telphony, and using sensors. Original.\",\"industryIdentifiers\":[{\"type\":\"ISBN_13\",\"identifier\":\"9781118102275\"},{\"type\":\"ISBN_10\",\"identifier\":\"1118102274\"}],\"readingModes\":{\"text\":false,\"image\":true},\"pageCount\":817,\"printType\":\"BOOK\",\"categories\":[\"Computers\"],\"maturityRating\":\"NOT_MATURE\",\"allowAnonLogging\":false,\"contentVersion\":\"0.9.0.0.preview.1\",\"imageLinks\":{\"smallThumbnail\":\"http://books.google.com/books/content?id=bmJIl_wPgQsC&printsec=frontcover&img=1&zoom=5&edge=curl&source=gbs_api\",\"thumbnail\":\"http://books.google.com/books/content?id=bmJIl_wPgQsC&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api\"},\"language\":\"en\",\"previewLink\":\"http://books.google.com/books?id=bmJIl_wPgQsC&printsec=frontcover&dq=android&hl=&cd=2&source=gbs_api\",\"infoLink\":\"http://books.google.com/books?id=bmJIl_wPgQsC&dq=android&hl=&source=gbs_api\",\"canonicalVolumeLink\":\"http://books.google.com/books/about/Professional_Android_4_Application_Devel.html?hl=&id=bmJIl_wPgQsC\"},\"saleInfo\":{\"country\":\"US\",\"saleability\":\"NOT_FOR_SALE\",\"isEbook\":false},\"accessInfo\":{\"country\":\"US\",\"viewability\":\"PARTIAL\",\"embeddable\":true,\"publicDomain\":false,\"textToSpeechPermission\":\"ALLOWED\",\"epub\":{\"isAvailable\":false},\"pdf\":{\"isAvailable\":false},\"webReaderLink\":\"http://books.google.com/books/reader?id=bmJIl_wPgQsC&hl=&printsec=frontcover&output=reader&source=gbs_api\",\"accessViewStatus\":\"SAMPLE\",\"quoteSharingAllowed\":false},\"searchInfo\":{\"textSnippet\":\"Professional Android 4 Application Development: Provides an in-depth look at the Android application components and their lifecycles Explores Android UI metaphors, design philosophies, and UI APIs to create compelling user interfaces for ...\"}},{\"kind\":\"books#volume\",\"id\":\"tsRhkvo80iUC\",\"etag\":\"pLHaxErC7Es\",\"selfLink\":\"https://www.googleapis.com/books/v1/volumes/tsRhkvo80iUC\",\"volumeInfo\":{\"title\":\"The Android Invasion\",\"authors\":[\"Christopher Black\"],\"publisher\":\"Yearling\",\"publishedDate\":\"1984-06-01\",\"description\":\"In this multiple plot adventure, readers and their robot companion must stop armies of attacking androids before they conquer the galaxy.\",\"industryIdentifiers\":[{\"type\":\"ISBN_10\",\"identifier\":\"0440400813\"},{\"type\":\"ISBN_13\",\"identifier\":\"9780440400813\"}],\"readingModes\":{\"text\":false,\"image\":false},\"pageCount\":117,\"printType\":\"BOOK\",\"categories\":[\"Androids\"],\"maturityRating\":\"NOT_MATURE\",\"allowAnonLogging\":false,\"contentVersion\":\"0.0.1.0.preview.0\",\"imageLinks\":{\"smallThumbnail\":\"http://books.google.com/books/content?id=tsRhkvo80iUC&printsec=frontcover&img=1&zoom=5&source=gbs_api\",\"thumbnail\":\"http://books.google.com/books/content?id=tsRhkvo80iUC&printsec=frontcover&img=1&zoom=1&source=gbs_api\"},\"language\":\"en\",\"previewLink\":\"http://books.google.com/books?id=tsRhkvo80iUC&q=android&dq=android&hl=&cd=3&source=gbs_api\",\"infoLink\":\"http://books.google.com/books?id=tsRhkvo80iUC&dq=android&hl=&source=gbs_api\",\"canonicalVolumeLink\":\"http://books.google.com/books/about/The_Android_Invasion.html?hl=&id=tsRhkvo80iUC\"},\"saleInfo\":{\"country\":\"US\",\"saleability\":\"NOT_FOR_SALE\",\"isEbook\":false},\"accessInfo\":{\"country\":\"US\",\"viewability\":\"NO_PAGES\",\"embeddable\":false,\"publicDomain\":false,\"textToSpeechPermission\":\"ALLOWED\",\"epub\":{\"isAvailable\":false},\"pdf\":{\"isAvailable\":false},\"webReaderLink\":\"http://books.google.com/books/reader?id=tsRhkvo80iUC&hl=&printsec=frontcover&output=reader&source=gbs_api\",\"accessViewStatus\":\"NONE\",\"quoteSharingAllowed\":false},\"searchInfo\":{\"textSnippet\":\"In this multiple plot adventure, readers and their robot companion must stop armies of attacking androids before they conquer the galaxy.\"}},{\"kind\":\"books#volume\",\"id\":\"IEk2m00o9_IC\",\"etag\":\"GDaO+sILwKY\",\"selfLink\":\"https://www.googleapis.com/books/v1/volumes/IEk2m00o9_IC\",\"volumeInfo\":{\"title\":\"Android Apps Security\",\"authors\":[\"Sheran Gunasekera\"],\"publisher\":\"Apress\",\"publishedDate\":\"2012-09-12\",\"description\":\"Android Apps Security provides guiding principles for how to best design and develop Android apps with security in mind. It explores concepts that can be used to secure apps and how developers can use and incorporate these security features into their apps. This book will provide developers with the information they need to design useful, high-performing, and secure apps that expose end-users to as little risk as possible. Overview of Android OS versions, features, architecture and security. Detailed examination of areas where attacks on applications can take place and what controls should be implemented to protect private user data In-depth guide to data encryption, authentication techniques, enterprise security and applied real-world examples of these concepts What you’ll learn How to identify data that should be secured How to use the Android APIs to ensure confidentiality and integrity of data How to build secure apps for the enterprise About Public Key Infrastructure, encryption APIs and how to implement them in apps About owners, access control lists and permissions to allow user control over App properties About client-server apps and how to manage authentication, transport layer encryption and server-side security Who this book is for This book is for intermediate and experienced Android app developers that are already familiar with writing apps from scratch. It discusses mechanisms on how apps can be secured so that private, end-user data is kept secure on the device and while in transit. If you’re just embarking on the path to Android development, then this book may prove to be a useful companion to other developer guides. Table of Contents Android Architecture & Security Controls The Foundation of an App Who Has Access? Designing and Developing 3 Sample Apps Using PKI & Encryption Interfacing with Web Services Writing for the Enterprise Designing and Developing 3 More Sample Apps Publishing and Selling Your Apps Malware, Spyware and Your End-User API Reference\",\"industryIdentifiers\":[{\"type\":\"ISBN_13\",\"identifier\":\"9781430240624\"},{\"type\":\"ISBN_10\",\"identifier\":\"1430240628\"}],\"readingModes\":{\"text\":true,\"image\":true},\"pageCount\":248,\"printType\":\"BOOK\",\"categories\":[\"Computers\"],\"maturityRating\":\"NOT_MATURE\",\"allowAnonLogging\":true,\"contentVersion\":\"1.1.1.0.preview.3\",\"imageLinks\":{\"smallThumbnail\":\"http://books.google.com/books/content?id=IEk2m00o9_IC&printsec=frontcover&img=1&zoom=5&edge=curl&source=gbs_api\",\"thumbnail\":\"http://books.google.com/books/content?id=IEk2m00o9_IC&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api\"},\"language\":\"en\",\"previewLink\":\"http://books.google.com/books?id=IEk2m00o9_IC&printsec=frontcover&dq=android&hl=&cd=4&source=gbs_api\",\"infoLink\":\"http://books.google.com/books?id=IEk2m00o9_IC&dq=android&hl=&source=gbs_api\",\"canonicalVolumeLink\":\"http://books.google.com/books/about/Android_Apps_Security.html?hl=&id=IEk2m00o9_IC\"},\"saleInfo\":{\"country\":\"US\",\"saleability\":\"NOT_FOR_SALE\",\"isEbook\":false},\"accessInfo\":{\"country\":\"US\",\"viewability\":\"PARTIAL\",\"embeddable\":true,\"publicDomain\":false,\"textToSpeechPermission\":\"ALLOWED\",\"epub\":{\"isAvailable\":true,\"acsTokenLink\":\"http://books.google.com/books/download/Android_Apps_Security-sample-epub.acsm?id=IEk2m00o9_IC&format=epub&output=acs4_fulfillment_token&dl_type=sample&source=gbs_api\"},\"pdf\":{\"isAvailable\":true,\"acsTokenLink\":\"http://books.google.com/books/download/Android_Apps_Security-sample-pdf.acsm?id=IEk2m00o9_IC&format=pdf&output=acs4_fulfillment_token&dl_type=sample&source=gbs_api\"},\"webReaderLink\":\"http://books.google.com/books/reader?id=IEk2m00o9_IC&hl=&printsec=frontcover&output=reader&source=gbs_api\",\"accessViewStatus\":\"SAMPLE\",\"quoteSharingAllowed\":false},\"searchInfo\":{\"textSnippet\":\"This book will provide developers with the information they need to design useful, high-performing, and secure apps that expose end-users to as little risk as possible. Overview of Android OS versions, features, architecture and security.\"}},{\"kind\":\"books#volume\",\"id\":\"h4FuBAAAQBAJ\",\"etag\":\"5Mt0C3n07MY\",\"selfLink\":\"https://www.googleapis.com/books/v1/volumes/h4FuBAAAQBAJ\",\"volumeInfo\":{\"title\":\"Android Apps for Absolute Beginners\",\"authors\":[\"Wallace Jackson\"],\"publisher\":\"Apress\",\"publishedDate\":\"2014-08-28\",\"description\":\"Anybody can start building multimedia apps for the Android platform, and this book will show you how! Now updated to include both Android 4.4 and the new Android L, Android Apps for Absolute Beginners, Third Edition takes you through the process of getting your first Android apps up and running using plain English and practical examples. If you have a great idea for an Android app, but have never programmed before, then this book is for you. This book cuts through the fog of jargon and mystery that surrounds Android apps development, and gives you simple, step-by-step instructions to get you started. Teaches Android application development in language anyone can understand, giving you the best possible start in Android development Provides simple, step-by-step examples that make learning easy, allowing you to pick up the concepts without fuss Offers clear code descriptions and layout so that you can get your apps running as soon as possible This book covers both Android 4.4 (KitKat) and Android L, but is also backwards compatible to cover the previous Android releases since Android 1.5.\",\"industryIdentifiers\":[{\"type\":\"ISBN_13\",\"identifier\":\"9781484200193\"},{\"type\":\"ISBN_10\",\"identifier\":\"1484200195\"}],\"readingModes\":{\"text\":true,\"image\":true},\"pageCount\":712,\"printType\":\"BOOK\",\"categories\":[\"Computers\"],\"averageRating\":5.0,\"ratingsCount\":1,\"maturityRating\":\"NOT_MATURE\",\"allowAnonLogging\":true,\"contentVersion\":\"2.6.5.0.preview.3\",\"imageLinks\":{\"smallThumbnail\":\"http://books.google.com/books/content?id=h4FuBAAAQBAJ&printsec=frontcover&img=1&zoom=5&edge=curl&source=gbs_api\",\"thumbnail\":\"http://books.google.com/books/content?id=h4FuBAAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api\"},\"language\":\"en\",\"previewLink\":\"http://books.google.com/books?id=h4FuBAAAQBAJ&pg=PA250&dq=android&hl=&cd=5&source=gbs_api\",\"infoLink\":\"https://play.google.com/store/books/details?id=h4FuBAAAQBAJ&source=gbs_api\",\"canonicalVolumeLink\":\"https://market.android.com/details?id=book-h4FuBAAAQBAJ\"},\"saleInfo\":{\"country\":\"US\",\"saleability\":\"FOR_SALE\",\"isEbook\":true,\"listPrice\":{\"amount\":44.99,\"currencyCode\":\"USD\"},\"retailPrice\":{\"amount\":31.49,\"currencyCode\":\"USD\"},\"buyLink\":\"https://play.google.com/store/books/details?id=h4FuBAAAQBAJ&rdid=book-h4FuBAAAQBAJ&rdot=1&source=gbs_api\",\"offers\":[{\"finskyOfferType\":1,\"listPrice\":{\"amountInMicros\":4.499E7,\"currencyCode\":\"USD\"},\"retailPrice\":{\"amountInMicros\":3.149E7,\"currencyCode\":\"USD\"},\"giftable\":true}]},\"accessInfo\":{\"country\":\"US\",\"viewability\":\"PARTIAL\",\"embeddable\":true,\"publicDomain\":false,\"textToSpeechPermission\":\"ALLOWED\",\"epub\":{\"isAvailable\":true,\"acsTokenLink\":\"http://books.google.com/books/download/Android_Apps_for_Absolute_Beginners-sample-epub.acsm?id=h4FuBAAAQBAJ&format=epub&output=acs4_fulfillment_token&dl_type=sample&source=gbs_api\"},\"pdf\":{\"isAvailable\":true,\"acsTokenLink\":\"http://books.google.com/books/download/Android_Apps_for_Absolute_Beginners-sample-pdf.acsm?id=h4FuBAAAQBAJ&format=pdf&output=acs4_fulfillment_token&dl_type=sample&source=gbs_api\"},\"webReaderLink\":\"http://books.google.com/books/reader?id=h4FuBAAAQBAJ&hl=&printsec=frontcover&output=reader&source=gbs_api\",\"accessViewStatus\":\"SAMPLE\",\"quoteSharingAllowed\":false},\"searchInfo\":{\"textSnippet\":\"The XML markup looks like this: \\u003cb\\u003eandroid\\u003c/b\\u003e:background=&quot;Qdrawable/\\u003cbr\\u003e\\neditgalaxyscreen&quot; As you can see in Figure 7–33, using the Graphical Layout \\u003cbr\\u003e\\nEditor tab as a preview utility, the background image looks great, but causes \\u003cbr\\u003e\\ncontrast issues with&nbsp;...\"}},{\"kind\":\"books#volume\",\"id\":\"wVlAqfw9BysC\",\"etag\":\"8qAxYauqVvQ\",\"selfLink\":\"https://www.googleapis.com/books/v1/volumes/wVlAqfw9BysC\",\"volumeInfo\":{\"title\":\"Android Design Patterns\",\"subtitle\":\"Interaction Design Solutions for Developers\",\"authors\":[\"Greg Nudelman\"],\"publisher\":\"John Wiley & Sons\",\"publishedDate\":\"2013-03-11\",\"description\":\"Designing effective user interfaces that work on multiple Android devices is extremely challenging. This book provides more than 75 patterns that you can use to create versatile user interfaces for both smartphones and tablets, saving countless hours of development time. Patterns cover the most common and yet difficult types of user interactions, and each is supported with richly illustrated, step-by-step instructions\",\"industryIdentifiers\":[{\"type\":\"ISBN_13\",\"identifier\":\"9781118394151\"},{\"type\":\"ISBN_10\",\"identifier\":\"1118394151\"}],\"readingModes\":{\"text\":false,\"image\":true},\"pageCount\":423,\"printType\":\"BOOK\",\"categories\":[\"Computers\"],\"maturityRating\":\"NOT_MATURE\",\"allowAnonLogging\":false,\"contentVersion\":\"preview-1.0.0\",\"imageLinks\":{\"smallThumbnail\":\"http://books.google.com/books/content?id=wVlAqfw9BysC&printsec=frontcover&img=1&zoom=5&edge=curl&source=gbs_api\",\"thumbnail\":\"http://books.google.com/books/content?id=wVlAqfw9BysC&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api\"},\"language\":\"en\",\"previewLink\":\"http://books.google.com/books?id=wVlAqfw9BysC&printsec=frontcover&dq=android&hl=&cd=6&source=gbs_api\",\"infoLink\":\"http://books.google.com/books?id=wVlAqfw9BysC&dq=android&hl=&source=gbs_api\",\"canonicalVolumeLink\":\"http://books.google.com/books/about/Android_Design_Patterns.html?hl=&id=wVlAqfw9BysC\"},\"saleInfo\":{\"country\":\"US\",\"saleability\":\"NOT_FOR_SALE\",\"isEbook\":false},\"accessInfo\":{\"country\":\"US\",\"viewability\":\"PARTIAL\",\"embeddable\":true,\"publicDomain\":false,\"textToSpeechPermission\":\"ALLOWED\",\"epub\":{\"isAvailable\":false},\"pdf\":{\"isAvailable\":false},\"webReaderLink\":\"http://books.google.com/books/reader?id=wVlAqfw9BysC&hl=&printsec=frontcover&output=reader&source=gbs_api\",\"accessViewStatus\":\"SAMPLE\",\"quoteSharingAllowed\":false},\"searchInfo\":{\"textSnippet\":\"This book provides more than 75 patterns that you can use to create versatile user interfaces for both smartphones and tablets, saving countless hours of development time.\"}},{\"kind\":\"books#volume\",\"id\":\"Bam8K5SIiTkC\",\"etag\":\"AnMEmbrCzcI\",\"selfLink\":\"https://www.googleapis.com/books/v1/volumes/Bam8K5SIiTkC\",\"volumeInfo\":{\"title\":\"Pro Android 2\",\"authors\":[\"Sayed Hashimi\",\"Satya Komatineni\",\"Dave MacLean\"],\"publisher\":\"Apress\",\"publishedDate\":\"2010-03-15\",\"description\":\"Pro Android 2 shows how to build real-world and fun mobile applications using Google’s latest Android software development kit. This new edition is updated for Android 2, covering everything from the fundamentals of building applications for embedded devices to advanced concepts such as custom 3D components, OpenGL, and touchscreens including gestures. While other Android development guides simply discuss topics, Pro Android 2 offers the combination of expert insight and real sample applications that work. Discover the design and architecture of the Android SDK through practical examples, and how to build mobile applications using the Android SDK. Explore and use the Android APIs, including those for media and Wi-Fi. Learn about Android 2’s integrated local and web search, handwriting gesture UI, Google Translate, and text-to-speech features. Pro Android 2 dives deep, providing you with all the knowledge and techniques you need to build mobile applications ranging from games to Google apps, including add-ons to Google Docs. You’ll be able to extend and run the new Google Chrome APIs on the G1, the G2, and other next-generation Google phones and Android-enabled devices. What you’ll learn How to use Android to build Java-based mobile applications for Google phones with a touch screen or keyboard (thanks to Cupcake’s inclusion as of Android 1.5) How to design and architect using Google’s latest Android SDK How to use the Android SDK to write mobile applications for embedded devices How to create 3D graphics with OpenGL and custom components How to build multimedia and game apps using Android’s Media APIs and OpenGL How to use Android’s location-based services, networking (Wi-Fi APIs), and security How to create and allow for more integrated local and web searches How to build handwriting gesture UIs How to incorporate Google Translate into your Android applications Who this book is for This book is for professional software engineers/programmers looking to move their ideas and applications into the mobile space with Android. It assumes that readers have a passable understanding of Java, including being able to write classes and handle basic inheritance structures. This book also targets hobbyists. Table of Contents Introducing the Android Computing Platform Getting Your Feet Wet Using Resources, Content Providers, and Intents Building User Interfaces and Using Controls Working with Menus and Dialogs Unveiling 2D Animation Exploring Security and Location-Based Services Building and Consuming Services Using the Media Framework and Telephony APIs Programming 3D Graphics with OpenGL Managing and Organizing Preferences Exploring Live Folders Home Screen Widgets Android Search Exploring Text to Speech and Translate APIs Touchscreens Titanium Mobile: A WebKit-Based Approach to Android Development Working with Android Market Outlook and Resources\",\"industryIdentifiers\":[{\"type\":\"ISBN_13\",\"identifier\":\"9781430226598\"},{\"type\":\"ISBN_10\",\"identifier\":\"1430226595\"}],\"readingModes\":{\"text\":true,\"image\":true},\"pageCount\":736,\"printType\":\"BOOK\",\"categories\":[\"Computers\"],\"averageRating\":2.5,\"ratingsCount\":6,\"maturityRating\":\"NOT_MATURE\",\"allowAnonLogging\":true,\"contentVersion\":\"0.2.1.0.preview.3\",\"imageLinks\":{\"smallThumbnail\":\"http://books.google.com/books/content?id=Bam8K5SIiTkC&printsec=frontcover&img=1&zoom=5&edge=curl&source=gbs_api\",\"thumbnail\":\"http://books.google.com/books/content?id=Bam8K5SIiTkC&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api\"},\"language\":\"en\",\"previewLink\":\"http://books.google.com/books?id=Bam8K5SIiTkC&pg=PA217&dq=android&hl=&cd=7&source=gbs_api\",\"infoLink\":\"http://books.google.com/books?id=Bam8K5SIiTkC&dq=android&hl=&source=gbs_api\",\"canonicalVolumeLink\":\"http://books.google.com/books/about/Pro_Android_2.html?hl=&id=Bam8K5SIiTkC\"},\"saleInfo\":{\"country\":\"US\",\"saleability\":\"NOT_FOR_SALE\",\"isEbook\":false},\"accessInfo\":{\"country\":\"US\",\"viewability\":\"PARTIAL\",\"embeddable\":true,\"publicDomain\":false,\"textToSpeechPermission\":\"ALLOWED\",\"epub\":{\"isAvailable\":true,\"acsTokenLink\":\"http://books.google.com/books/download/Pro_Android_2-sample-epub.acsm?id=Bam8K5SIiTkC&format=epub&output=acs4_fulfillment_token&dl_type=sample&source=gbs_api\"},\"pdf\":{\"isAvailable\":true,\"acsTokenLink\":\"http://books.google.com/books/download/Pro_Android_2-sample-pdf.acsm?id=Bam8K5SIiTkC&format=pdf&output=acs4_fulfillment_token&dl_type=sample&source=gbs_api\"},\"webReaderLink\":\"http://books.google.com/books/reader?id=Bam8K5SIiTkC&hl=&printsec=frontcover&output=reader&source=gbs_api\",\"accessViewStatus\":\"SAMPLE\",\"quoteSharingAllowed\":false},\"searchInfo\":{\"textSnippet\":\"The previous chapters gave you a broad introduction to UI programming in \\u003cbr\\u003e\\n\\u003cb\\u003eAndroid\\u003c/b\\u003e. In this chapter, we would like to further strengthen your ability to create \\u003cbr\\u003e\\nintuitive and appealing applications on the \\u003cb\\u003eAndroid\\u003c/b\\u003e Platform by covering the \\u003cbr\\u003e\\nanimation&nbsp;...\"}},{\"kind\":\"books#volume\",\"id\":\"oMYQz4_BW48C\",\"etag\":\"cK0kznvF/6M\",\"selfLink\":\"https://www.googleapis.com/books/v1/volumes/oMYQz4_BW48C\",\"volumeInfo\":{\"title\":\"Learning Android\",\"authors\":[\"Marko Gargenta\"],\"publisher\":\"\\\"O'Reilly Media, Inc.\\\"\",\"publishedDate\":\"2011-03-10\",\"description\":\"Want to build apps for Android devices? This book is the perfect way to master the fundamentals. Written by an expert who's taught this mobile platform to hundreds of developers in large organizations, this gentle introduction shows experienced object-oriented programmers how to use Android’s basic building blocks to create user interfaces, store data, connect to the network, and more. You'll build a Twitter-like application throughout the course of this book, adding new features with each chapter. Along the way, you'll also create your own toolbox of code patterns to help you program any type of Android application with ease. Get an overview of the Android platform and discover how it fits into the mobile ecosystem Learn about the Android stack, including its application framework, and the structure and distribution of application packages (APK) Set up your Android development environment and get started with simple programs Use Android’s building blocks—Activities, Intents, Services, Content Providers, and Broadcast Receivers Learn how to build basic Android user interfaces and organize UI elements in Views and Layouts Build a service that uses a background process to update data in your application Get an introduction to Android Interface Definition Language (AIDL) and the Native Development Kit (NDK)\",\"industryIdentifiers\":[{\"type\":\"ISBN_13\",\"identifier\":\"9781449307240\"},{\"type\":\"ISBN_10\",\"identifier\":\"1449307248\"}],\"readingModes\":{\"text\":true,\"image\":true},\"pageCount\":270,\"printType\":\"BOOK\",\"categories\":[\"Computers\"],\"averageRating\":4.0,\"ratingsCount\":7,\"maturityRating\":\"NOT_MATURE\",\"allowAnonLogging\":true,\"contentVersion\":\"0.3.2.0.preview.3\",\"imageLinks\":{\"smallThumbnail\":\"http://books.google.com/books/content?id=oMYQz4_BW48C&printsec=frontcover&img=1&zoom=5&edge=curl&source=gbs_api\",\"thumbnail\":\"http://books.google.com/books/content?id=oMYQz4_BW48C&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api\"},\"language\":\"en\",\"previewLink\":\"http://books.google.com/books?id=oMYQz4_BW48C&printsec=frontcover&dq=android&hl=&cd=8&source=gbs_api\",\"infoLink\":\"http://books.google.com/books?id=oMYQz4_BW48C&dq=android&hl=&source=gbs_api\",\"canonicalVolumeLink\":\"http://books.google.com/books/about/Learning_Android.html?hl=&id=oMYQz4_BW48C\"},\"saleInfo\":{\"country\":\"US\",\"saleability\":\"NOT_FOR_SALE\",\"isEbook\":false},\"accessInfo\":{\"country\":\"US\",\"viewability\":\"PARTIAL\",\"embeddable\":true,\"publicDomain\":false,\"textToSpeechPermission\":\"ALLOWED\",\"epub\":{\"isAvailable\":true},\"pdf\":{\"isAvailable\":true},\"webReaderLink\":\"http://books.google.com/books/reader?id=oMYQz4_BW48C&hl=&printsec=frontcover&output=reader&source=gbs_api\",\"accessViewStatus\":\"SAMPLE\",\"quoteSharingAllowed\":false},\"searchInfo\":{\"textSnippet\":\"Want to build apps for Android devices? This book is the perfect way to master the fundamentals.\"}},{\"kind\":\"books#volume\",\"id\":\"39Jlo3nZ7HIC\",\"etag\":\"r7qhPgYj0lQ\",\"selfLink\":\"https://www.googleapis.com/books/v1/volumes/39Jlo3nZ7HIC\",\"volumeInfo\":{\"title\":\"Android 3. 0 Animations\",\"subtitle\":\"Beginner's Guide\",\"authors\":[\"Alex Shaw\"],\"publisher\":\"Packt Publishing Ltd\",\"publishedDate\":\"2011-11-01\",\"description\":\"Written in Packt's Beginner's Guide series, this book takes a step-by-step approach with each chapter made up of three to five tutorials that introduce and explain different animation concepts. All concepts are explained with real-world examples that are fun to read and work with. If you are familiar with developing Android applications and want to bring your apps to life by adding smashing animations, then this book is for you. The book assumes that you are comfortable with Java development and have familiarity with creating Android Views in XML and Java. The tutorials assume that you will want to work with Eclipse, but you can work just as well with your preferred development tools.\",\"industryIdentifiers\":[{\"type\":\"ISBN_13\",\"identifier\":\"9781849515290\"},{\"type\":\"ISBN_10\",\"identifier\":\"1849515298\"}],\"readingModes\":{\"text\":true,\"image\":true},\"pageCount\":304,\"printType\":\"BOOK\",\"categories\":[\"Computers\"],\"maturityRating\":\"NOT_MATURE\",\"allowAnonLogging\":true,\"contentVersion\":\"2.2.2.0.preview.3\",\"imageLinks\":{\"smallThumbnail\":\"http://books.google.com/books/content?id=39Jlo3nZ7HIC&printsec=frontcover&img=1&zoom=5&edge=curl&source=gbs_api\",\"thumbnail\":\"http://books.google.com/books/content?id=39Jlo3nZ7HIC&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api\"},\"language\":\"en\",\"previewLink\":\"http://books.google.com/books?id=39Jlo3nZ7HIC&printsec=frontcover&dq=android&hl=&cd=9&source=gbs_api\",\"infoLink\":\"https://play.google.com/store/books/details?id=39Jlo3nZ7HIC&source=gbs_api\",\"canonicalVolumeLink\":\"https://market.android.com/details?id=book-39Jlo3nZ7HIC\"},\"saleInfo\":{\"country\":\"US\",\"saleability\":\"FOR_SALE\",\"isEbook\":true,\"listPrice\":{\"amount\":26.99,\"currencyCode\":\"USD\"},\"retailPrice\":{\"amount\":16.54,\"currencyCode\":\"USD\"},\"buyLink\":\"https://play.google.com/store/books/details?id=39Jlo3nZ7HIC&rdid=book-39Jlo3nZ7HIC&rdot=1&source=gbs_api\",\"offers\":[{\"finskyOfferType\":1,\"listPrice\":{\"amountInMicros\":2.699E7,\"currencyCode\":\"USD\"},\"retailPrice\":{\"amountInMicros\":1.654E7,\"currencyCode\":\"USD\"},\"giftable\":true}]},\"accessInfo\":{\"country\":\"US\",\"viewability\":\"PARTIAL\",\"embeddable\":true,\"publicDomain\":false,\"textToSpeechPermission\":\"ALLOWED\",\"epub\":{\"isAvailable\":true},\"pdf\":{\"isAvailable\":true},\"webReaderLink\":\"http://books.google.com/books/reader?id=39Jlo3nZ7HIC&hl=&printsec=frontcover&output=reader&source=gbs_api\",\"accessViewStatus\":\"SAMPLE\",\"quoteSharingAllowed\":false},\"searchInfo\":{\"textSnippet\":\"Written in Packt&#39;s Beginner&#39;s Guide series, this book takes a step-by-step approach with each chapter made up of three to five tutorials that introduce and explain different animation concepts.\"}},{\"kind\":\"books#volume\",\"id\":\"H8tNBKmPO5UC\",\"etag\":\"jEAXKTZNvaQ\",\"selfLink\":\"https://www.googleapis.com/books/v1/volumes/H8tNBKmPO5UC\",\"volumeInfo\":{\"title\":\"Android Fully Loaded\",\"authors\":[\"Rob Huddleston\"],\"publisher\":\"John Wiley & Sons\",\"publishedDate\":\"2012-08-03\",\"industryIdentifiers\":[{\"type\":\"ISBN_13\",\"identifier\":\"9781118234914\"},{\"type\":\"ISBN_10\",\"identifier\":\"111823491X\"}],\"readingModes\":{\"text\":true,\"image\":true},\"pageCount\":256,\"printType\":\"BOOK\",\"categories\":[\"Computers\"],\"maturityRating\":\"NOT_MATURE\",\"allowAnonLogging\":true,\"contentVersion\":\"2.2.2.0.preview.3\",\"imageLinks\":{\"smallThumbnail\":\"http://books.google.com/books/content?id=H8tNBKmPO5UC&printsec=frontcover&img=1&zoom=5&edge=curl&source=gbs_api\",\"thumbnail\":\"http://books.google.com/books/content?id=H8tNBKmPO5UC&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api\"},\"language\":\"en\",\"previewLink\":\"http://books.google.com/books?id=H8tNBKmPO5UC&printsec=frontcover&dq=android&hl=&cd=10&source=gbs_api\",\"infoLink\":\"http://books.google.com/books?id=H8tNBKmPO5UC&dq=android&hl=&source=gbs_api\",\"canonicalVolumeLink\":\"http://books.google.com/books/about/Android_Fully_Loaded.html?hl=&id=H8tNBKmPO5UC\"},\"saleInfo\":{\"country\":\"US\",\"saleability\":\"NOT_FOR_SALE\",\"isEbook\":false},\"accessInfo\":{\"country\":\"US\",\"viewability\":\"PARTIAL\",\"embeddable\":true,\"publicDomain\":false,\"textToSpeechPermission\":\"ALLOWED\",\"epub\":{\"isAvailable\":true,\"acsTokenLink\":\"http://books.google.com/books/download/Android_Fully_Loaded-sample-epub.acsm?id=H8tNBKmPO5UC&format=epub&output=acs4_fulfillment_token&dl_type=sample&source=gbs_api\"},\"pdf\":{\"isAvailable\":true,\"acsTokenLink\":\"http://books.google.com/books/download/Android_Fully_Loaded-sample-pdf.acsm?id=H8tNBKmPO5UC&format=pdf&output=acs4_fulfillment_token&dl_type=sample&source=gbs_api\"},\"webReaderLink\":\"http://books.google.com/books/reader?id=H8tNBKmPO5UC&hl=&printsec=frontcover&output=reader&source=gbs_api\",\"accessViewStatus\":\"SAMPLE\",\"quoteSharingAllowed\":false},\"searchInfo\":{\"textSnippet\":\"Get Android Fully Loaded, Second Edition and don&#39;t miss a thing! Take your love affair with Android to a new level Since the first edition of this book, new phones and new apps have been popping up like monsters at the game-master&#39;s level.\"}}]}";
    private static final String LOG_TAG = BookUtil.class.getSimpleName();
    private static ArrayList<Book> mBooks;
    private static BookUtil sBookUtil;

    private BookUtil(Context context) {
        mBooks = new ArrayList<>();
    }

    public static BookUtil get(Context context) {

        if (sBookUtil == null) {
            sBookUtil = new BookUtil(context);
        }
        return sBookUtil;
    }

    public static ArrayList<Book> extractBooks() {

        mBooks = new ArrayList<>();

        try {
            JSONObject root = new JSONObject(SAMPLE_JSON);
            JSONArray items = root.getJSONArray("items");
            for (int i = 0; i < items.length(); i++) {
                JSONObject currentBook = items.getJSONObject(i);
                JSONObject volumeInfo = currentBook.getJSONObject("volumeInfo");

                UUID bookId = UUID.randomUUID();
                String title = volumeInfo.getString("title");
                String subtitle = "";
                if (volumeInfo.has("subtitle")) {
                    subtitle = volumeInfo.getString("subtitle");
                }
                String description = "";
                if (volumeInfo.has("description")) {
                    description = volumeInfo.getString("description");
                }
                JSONArray authors = volumeInfo.getJSONArray("authors");
                String authorsString;
                StringBuilder builder = new StringBuilder();
                for (int j = 0; j < authors.length(); j++) {
                    builder.append(authors.getString(j));
                    builder.append(", ");
                }
                authorsString = builder.toString();

                Uri bookUri = Uri.parse(volumeInfo.getString("infoLink"));

                String bookPublisher = volumeInfo.getString("publisher");
                String bookPublishedDate = volumeInfo.getString("publishedDate");
                String bookCount = volumeInfo.getString("pageCount");
                float bookRate = 0;
                if (volumeInfo.has("averageRating")) {
                    bookRate = (float) volumeInfo.getDouble("averageRating");
                }

                String bookCoverImage = volumeInfo.getJSONObject("imageLinks").getString("thumbnail");

                Book book = new Book(bookId, title, subtitle, description, authorsString, bookUri, bookPublisher, bookPublishedDate, bookCount, bookRate, bookCoverImage);

                mBooks.add(book);

            }

        } catch (JSONException je) {
            Log.e(LOG_TAG, "JSON Failed: ", je);
        }

        return mBooks;

    }

    public List<Book> getBooks() {
        return mBooks;
    }

    public Book getBook(UUID id) {
        for (Book book : mBooks) {
            Log.i(LOG_TAG, "bookID: " + book.getBookId() + "\nUUID: " + id);
            if (book.getBookId().equals(id)) {
                Log.i(LOG_TAG, "book: " + book.toString());
                return book;
            }
        }
        return null;
    }
}
